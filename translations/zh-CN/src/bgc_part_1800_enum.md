```c
// 枚举类型：`enum`

C 提供了另一种通过名称来表示常量整数值的方法：`enum`。

例如：

``` {.c}
enum {
  ONE=1,
  TWO=2
};

printf("%d %d", ONE, TWO);  // 1 2
```

在某些方面，它可能比使用 `#define` 更好或者不同。
关键区别：

- `enum` 只能是整数类型。
- `#define` 可以定义任何内容。
- `enum` 在调试器中通常会显示它们的符号标识符名称。
- `#define` 的数字只显示为原始数字，调试时更难知道其含义。

由于它们是整数类型，因此可以在任何可以使用整数的地方使用，包括在数组维度和 `case` 语句中。

让我们深入了解一下。

## `enum` 的行为

### 编号

`enum` 会自动编号，除非您覆盖它们。

它们默认从`0`开始自动递增：

``` {.c}
enum {
    SHEEP,  // 值为 0
    WHEAT,  // 值为 1
    WOOD,   // 值为 2
    BRICK,  // 值为 3
    ORE     // 值为 4
};

printf("%d %d\n", SHEEP, BRICK);  // 0 3
```

您可以强制指定特定的整数值，就像之前我们看到的一样：

``` {.c}
enum {
  X=2,
  Y=18,
  Z=-2
};
```

重复值不是问题：

``` {.c}
enum {
  X=2,
  Y=2,
  Z=2
};
```

如果省略值，则编号会根据最后指定的值继续向正方向计数。例如：

``` {.c}
enum {
  A,    // 0，默认起始值
  B,    // 1
  C=4,  // 4，手动设置
  D,    // 5
  E,    // 6
  F=3   // 3，手动设置
  G,    // 4
  H     // 5
}
```

### 尾逗号
```

这绝对没问题，如果这是你的风格：

``` {.c}
enum {
  X=2,
  Y=18,
  Z=-2,   // <-- 尾部逗号
};
```

这在近几十年的语言中变得越来越流行，所以你可能会很高兴看到它。

### 作用域

[i[`enum` 枚举类型-->作用域]<]

`enum` 的作用域就如你所期待的那样。如果在文件作用域，整个文件都能看到它。如果在一个块内，它就局限于那个块内。

在头文件中定义 `enum` 是非常常见的，这样它们就能在文件作用域进行 `#include` 了。

[i[`enum` 枚举类型-->作用域]>]

### 风格

正如你所注意到的，通常会用大写字母（带下划线）声明 `enum` 符号。

这不是必需的，但是是一个非常常见的习惯。

## 你的 `enum` 是一种类型

关于 `enum` 你需要知道的重要一点是：它们是一种类型，类似于 `struct` 是一种类型。

你可以给它们一个标签名，这样你就可以稍后引用该类型并声明该类型的变量。

既然 `enum` 是整数类型，为什么不直接使用 `int` 呢？

在 C 中，这样做的最好理由是代码清晰度--这是一种在代码中描述思想的好方法。C（不像 C++）实际上并不强制要求某个 `enum` 中的值在特定范围内。

让我们做一个例子，声明一个能够持有这些值的名为 `r` 的 `enum resource` 类型的变量：

``` {.c}
// 命名的 enum，类型是 "enum resource"

enum resource {
    SHEEP,
    WHEAT,
    WOOD,
    BRICK,
    ORE
};

// 声明一个类型为 "enum resource" 的变量 "r"

enum resource r = BRICK;

if (r == BRICK) {
    printf("我愿意用一块砖头换两只羊。\n");
}
```

当然也可以使用 `typedef`，不过我个人不喜欢。

``` {.c}
typedef enum {
    SHEEP,
    WHEAT,
    WOOD,
    BRICK,
    ORE
} RESOURCE;

RESOURCE r = BRICK;
```

另一个合法但不常见的快捷方式是在声明`enum`时同时声明变量：

``` {.c}
// 声明一个枚举和该类型的一些初始化变量：

enum {
    SHEEP,
    WHEAT,
    WOOD,
    BRICK,
    ORE
} r = BRICK, s = WOOD;
```

您还可以给`enum`一个名称，这样以后可以使用它，这可能是您在大多数情况下想要做的事情：

``` {.c}
// 声明一个枚举和该类型的一些初始化变量：

enum resource {   // <-- 类型现在为 "enum resource"
    SHEEP,
    WHEAT,
    WOOD,
    BRICK,
    ORE
} r = BRICK, s = WOOD;
```

简而言之，`enum`是编写漂亮、有范围、有类型、干净的代码的好方法。